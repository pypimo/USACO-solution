http://www.usaco.org/index.php?page=viewproblem2&cpid=595

```cpp
#include <bits/stdc++.h>
#define ll long long
using namespace std;

map <ll, ll> m;
ll A[1000010];

int main() {
    freopen("div7.in", "r", stdin);
    freopen("div7.out", "w", stdout);
    
    ios::sync_with_stdio(0);
    cin.tie(0);

    ll n, M=0;
    cin >> n;

    for (ll i=1; i<=n; i++) {
        cin >> A[i];
    }

    for (ll i=1; i<=n; i++) {
        A[i]+=A[i-1];
        if (!m[A[i]%7]) m[A[i]%7]=i;
    }
    m[0]=0;

    for (ll i=1; i<=n; i++) {
        M = max(M, i-m[A[i]%7]);
    }
    cout << M;

    return 0;
}
```
