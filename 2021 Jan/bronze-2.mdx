http://www.usaco.org/index.php?page=viewproblem2&cpid=1084

```cpp
#include <bits/stdc++.h>
#define ll long long
using namespace std;

void init_code() {
    ios::sync_with_stdio(0);
    cin.tie(0);
    #ifndef ONLINE_JUDGE
    freopen("input.txt", "r", stdin);
    freopen("output.txt", "w", stdout);
    #endif
}

int main() {
    //init_code();

    ll n, o=0, e=0;
    cin >> n;
    ll A[1010];
    for (ll i=0; i<n; i++) {
        cin >> A[i];
        if (A[i]%2) o++;
        else e++;
    }

    ll odd=0, even=1, ans=0;
    while(o+e>0) {

        if (even && e<=0 && o<2) {ans--; break;}
        if (odd && o<=0) break;

        if (odd) {
            o--;
            even=1;
            odd=0;
            ans++;
        } else if (even && e>0) {
            e--;
            ans++;
            even=0;
            odd=1;
        } else if (even && o>1) {
            o -= 2;
            even=0;
            odd=1;
            ans++;
        }
    }

    cout << ans;

    return 0;
}
```
